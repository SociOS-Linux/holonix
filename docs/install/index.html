<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Install holonix - Hugo Whisper Theme</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="/favicon.png">

  
  
  <link rel="stylesheet" href="/css/style.min.6aa5eecd4ca7c47fb2ca9b0775a7bd787e3e64a2eadf0fef8c9f924498f49127.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/docs/">
        <span>Docs</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="/"><img alt="Logo" src="/images/logo.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="/"><img alt="Logo" src="/images/logo-mobile.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/docs/">
        <span>Docs</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Docs</h4>
  <ul>
    
    <li class="">
      <a href="/docs/productive/">Productive</a>
    </li>
    
    <li class="">
      <a href="/docs/portable/">Portable</a>
    </li>
    
    <li class="">
      <a href="/docs/predictable/">Predictable</a>
    </li>
    
    <li class="active ">
      <a href="/docs/install/">Install holonix</a>
    </li>
    
    <li class="">
      <a href="/docs/configure/">Configure holonix</a>
    </li>
    
    <li class="">
      <a href="/docs/nix-shell/">The nix shell</a>
    </li>
    
    <li class="">
      <a href="/docs/nixos/">NixOS cheatsheet(s)</a>
    </li>
    
    <li class="">
      <a href="/docs/bash/">Bash scripts</a>
    </li>
    
    <li class="">
      <a href="/docs/holochain/">Holochain</a>
    </li>
    
    <li class="">
      <a href="/docs/rust/">Rust</a>
    </li>
    
    <li class="">
      <a href="/docs/node/">Node</a>
    </li>
    
    <li class="">
      <a href="/docs/zome/">Zome development</a>
    </li>
    
    <li class="">
      <a href="/docs/ui/">UI development</a>
    </li>
    
    <li class="">
      <a href="/docs/docs/">Documentation kit</a>
    </li>
    
    <li class="">
      <a href="/docs/ci/">Continuous integration</a>
    </li>
    
    <li class="">
      <a href="/docs/release/">Release management</a>
    </li>
    
    <li class="">
      <a href="/docs/ide/">IDE support</a>
    </li>
    
    <li class="">
      <a href="/docs/makefiles/">Makefiles</a>
    </li>
    
    <li class="">
      <a href="/docs/support/">Support &amp; debug</a>
    </li>
    
    <li class="">
      <a href="/docs/contribute/">Contribute</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">Install holonix</h1>
<div class="content">
  

<h1 id="linux-mac">Linux/Mac</h1>

<h2 id="mac-system-dependencies">Mac system dependencies</h2>

<p>Holonix assumes <a href="https://developer.apple.com/xcode/">Xcode</a> is installed.<br />
Xcode is the official Mac developer toolkit so is likely to already be installed on a development machine.</p>

<p>Install it from the <a href="https://apps.apple.com/in/app/xcode/id497799835">Apple app store</a> if needed.</p>

<p>You may need to install the command line tools.<br />
Follow the instructions if prompted.</p>

<h2 id="linux-system-dependencies">Linux system dependencies</h2>

<p>Only <code>curl</code> and <code>sudo</code> are needed to install <code>nix-shell</code>.</p>

<p>These are basic commands.<br />
Likely to already be installed on a development machine.</p>

<p>Install with the default package manger on your system if needed.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">apt-get install -y sudo curl</code></pre></div>
<h2 id="install-nix-tooling">Install Nix Tooling</h2>

<p><a href="https://nixos.org/nix/download.html">Nix installation</a> is the same on Linux and Mac:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">sh &lt;<span class="o">(</span>curl -L https://nixos.org/nix/install<span class="o">)</span></code></pre></div>
<p>Once installation is finished it will tell you to source the new configuration. Run the command the installer tells you to run.</p>

<p>Once everything is installed and configured the <code>nix-shell</code> should work. Test it out by pulling up the help docs.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">nix-shell --help</code></pre></div>
<p>This is everything needed to work with Holonix on Mac and Linux!</p>

<h1 id="windows">Windows</h1>

<h2 id="system-dependencies">System dependencies</h2>

<p>Windows does not have native support for <code>nix-shell</code>.<br />
There are a few different options each with its own dependencies and pros/cons.</p>

<p>Holonix is tested against Windows 8+ with Powershell 2.0+.<br />
Setting up virtualisation may be possible on older systems but is significantly more complex. It seems that at least some changes to the BIOS or additional downloads are needed.</p>

<h3 id="virtualisation">Virtualisation</h3>

<h4 id="vagrant">Vagrant</h4>

<p>Working with Vagrant requires a few things to be installed first.</p>

<ul>
<li><a href="https://www.vagrantup.com/downloads.html">Vagrant</a></li>
<li><a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a> (click &ldquo;Windows hosts&rdquo;)</li>
</ul>

<p>Once <code>vagrant</code> is installed there is an <a href="https://github.com/nix-community/vagrant-nixos-plugin">additional NixOS plugin to install</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">vagrant plugin install vagrant-nixos-plugin</code></pre></div>
<p>Vagrant works by <a href="https://www.vagrantup.com/docs/vagrantfile/">reading the <code>Vagrantfile</code></a> out of the current project, the current user&rsquo;s home directory or in the root.</p>

<p>A minimal <code>Vagrantfile</code> with decent swap RAM configured looks like this (see the vagrant docs for more info):</p>

<script src="https://gist.github.com/thedavidmeister/30ff7b8bdc47f54fe56b3ca17999ac4c.js"></script>

<p>Importantly the <code>https://holochain.love/box</code> is a <code>NixOS</code> VM with a prewarmed holonix nix-shell and <code>:nixos</code> allows vagrant to use nix for provisioning.</p>

<p>This uses a combination of vanilla <code>Vagrantfile</code> configuration and additional NixOS configuration from <code>vagrant-nixos-plugin</code>.</p>

<p>You can use it directly to boot a vagrant machine and login with ssh.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">cd</span> path/to/your/project
<span class="c1"># this URL is a shortened link to the raw gist above</span>
wget https://bit.ly/2KE6cw4 -outfile Vagrantfile
<span class="c1"># this will take a while, it is a large download</span>
vagrant up
<span class="c1"># login to the vagrant box when it is up</span>
vagrant ssh
<span class="c1"># this is inside the vagrant box</span>
<span class="nb">cd</span> /vagrant
<span class="c1"># see your project files inside vagrant</span>
ls
<span class="c1"># see that nix-shell is installed, ready for holonix</span>
nix-shell --help
<span class="c1"># make a change, it will be synced outside the box</span>
<span class="c1"># /vagrant has a 2-way mount between host and box</span>
touch foo.txt</code></pre></div>
<h4 id="docker">Docker</h4>

<p>Docker is available for Windows but has specific requirements <em>that likely cost money</em>.</p>

<p>Docker <em>can</em> be a great option for development <em>if</em> you are familiar with how to use it. Docker is relatively low level and many behaviours like snapshots, volumes, detaching and pruning disk usage are unintuitive and inconvenient for casual usage.</p>

<p>The &ldquo;official&rdquo; docker box for holonix is <a href="https://hub.docker.com/r/holochain/holonix">on docker hub</a>. It is built on top of the <a href="https://github.com/nix-community/docker-nix">NixOS community maintained Alpine Linux docker</a> optimised for <a href="https://hub.docker.com/r/nixorg/nix">Circle CI testing</a> with nixpkgs warmed and pinned for Holonix. This box should work equally well for local usage as for CI.</p>

<h5 id="docker-desktop">Docker desktop</h5>

<p>Docker desktop installation instructions and requirements are listed <a href="https://docs.docker.com/docker-for-windows/install/">on the docker website</a>.</p>

<p>It is the recommended option if possible.</p>

<p>Important notes:</p>

<ul>
<li>Requires Windows 10+ 64bit: Pro, Enterprise or Education (Build 15063+)</li>
<li>Virtualisation must be enabled in BIOS (default setting)</li>
<li>Hyper-V will be enabled <em>which will break Virtualbox</em></li>
<li>4GB of RAM is needed</li>
</ul>

<h5 id="docker-toolbox">Docker toolbox</h5>

<p>Docker toolbox is offered as a fallback as it has less onerous requirements than docker desktop.</p>

<p>Docker toolbox is an older solution that wraps virtual machines to fake native support.</p>

<p>Installation instructions for docker toolbox are listed <a href="https://docs.docker.com/toolbox/toolbox_install_windows/">on the docker website</a>.</p>

<p>Important notes:</p>

<ul>
<li>Requires Windows 7+ 64bit</li>
<li>Virtualisation must be enabled in BIOS (default in Windows 8+)</li>
<li>Uses VirtualBox under the hood (like vagrant)</li>
<li>Hyper-V must be disabled</li>
</ul>

<h3 id="windows-subsystem-linux">Windows Subsystem Linux</h3>

<p>Windows natively supports Linux emulation for development and general usage. This is called &ldquo;Windows Subsystem Linux&rdquo; (WSL).</p>

<p>WSL comes in <a href="https://devblogs.microsoft.com/commandline/announcing-wsl-2/">two major versions</a>:</p>

<ul>
<li>WSL1 is currently in wide circulation but is slower and not a real Linux kernel</li>
<li>WSL2 is newer, faster and a real Linux kernel but requires virtualisation, so newer Windows machines only</li>
</ul>

<p>The &ldquo;not a real Linux kernel&rdquo; limitation of WSL1 is known to cause some problems for NixOS in general. The workarounds outlined below should work fine for Holonix.</p>

<p>Installing WSL requires administrator access to powershell. The instructions are listed <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">on the Microsoft documentation site</a>.</p>

<h4 id="wsl1">WSL1</h4>

<p>WSL1 can work with some additional configuration.</p>

<p>This may be a good option if your machine <a href="https://forum.holochain.org/t/im-spinning-up-some-docs-for-holonix-feedback-welcome/451/5?u=thedavidmeister">cannot do 64bit virtualisation</a>.</p>

<p>The <code>/etc/nix/nix.conf</code> file must be configured with:</p>
<div class="highlight"><pre class="chroma">sandbox = false
use-sqlite-wal = false</pre></div>
<h4 id="wsl2">WSL2</h4>

<p>WSL2 <a href="https://github.com/NixOS/nixpkgs/issues/30391">may natively support NixOS</a> in the Windows app store.</p>

<p>If/when this eventuates it will likely be the best way to use NixOS on modern Windows machines.</p>

<p>At the time of writing, WSL2 is DIY and/or Coming Soon.</p>

<h3 id="dual-boot">Dual Boot</h3>

<h4 id="linux-dual-boot">Linux dual boot</h4>

<p>A linux dual boot can be used with nix shell directly.</p>

<p>Ubuntu + nix shell is a good option, especially for people new to holonix.</p>

<h4 id="nixos-dual-boot">NixOS dual boot</h4>

<p>The NixOS wiki lists instructions to <a href="https://nixos.wiki/wiki/Dual_Booting_NixOS_and_Windows">dual boot NixOS and Windows</a>.</p>

<p>This seems to be technical but possible judging from various threads and articles:</p>

<ul>
<li><a href="https://medium.com/@david.brian.ethier/installing-nixos-dual-booting-from-windows-10-7f082a68564c">https://medium.com/@david.brian.ethier/installing-nixos-dual-booting-from-windows-10-7f082a68564c</a></li>
<li><a href="https://www.reddit.com/r/NixOS/comments/a3lp8r/newbie_guidenotes_for_dual_booting_nixos_and/">https://www.reddit.com/r/NixOS/comments/a3lp8r/newbie_guidenotes_for_dual_booting_nixos_and/</a></li>
<li><a href="https://www.reddit.com/r/NixOS/comments/31lx3i/windows_and_nixos_dual_boot/">https://www.reddit.com/r/NixOS/comments/31lx3i/windows_and_nixos_dual_boot/</a></li>
<li><a href="https://unix.stackexchange.com/questions/435122/dual-booting-nixos-and-windows-10-can-it-be-done-easily-if-nixos-is-installed-f">https://unix.stackexchange.com/questions/435122/dual-booting-nixos-and-windows-10-can-it-be-done-easily-if-nixos-is-installed-f</a></li>
</ul>

<p>If you can stomach the technicalities of running a <em>full</em> NixOS installation alongside a Windows install, go for it. Note that NixOS by itself is a fairly steep learning curve so this is an extra++ option.</p>

</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="holochain"><a href="https://holochain.org">holochain.org</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>


  

  
  

  
  <script type="text/javascript" src="/js/scripts.min.bf1e1f7ae8e03db5f012356e825843facdff51c0a559cb0d27fe2bbe1db405c2.js"></script>
  

  
  
  
    
  

  <script src="https://unpkg.com/mermaid@8.2.3/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>


</body>

</html>
